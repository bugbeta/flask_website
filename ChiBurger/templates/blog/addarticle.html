{% extends 'base.html' %}

{% block title %}撰写文章{% endblock %}

{% block  head %}
{{ super() }}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='editormd/css/editormd.min.css') }}">
<script src="{{ url_for('static', filename='editormd/editormd.min.js') }}"></script>
{% endblock %}

{% block content %}
<div id="writeArticle">
      <h3 class="appmsg_edit_item title">写文章</h1>  
    <form id="writeArticleForm" method="post" action="{{ url_for('blog.addArticle') }}">
        <div class="appmsg_edit_item title frm_input_box edui-default with_counter counter_in append count">
            <label for="title" class="tips_global placeholder_tips edui-default" style="display:none">请在这里输入标题</label>
            <input id="title" type="text" placeholder="请在这里输入标题" class="frm_input js_title js_counter js_field edui-default" name="title" max-length="64">
            <em class="frm_input_append frm_counter" style="display: none;">0/64</em>
        </div>
        <div class="appmsg_edit_item author frm_input_box edui-default with_counter counter_in append count">
            <label for="category" class="tips_global placeholder_tips edui-default" style="display:none">请输入文章分类</label>
            <input id="author" type="text" placeholder="请输入文章分类" class="frm_input js_author js_counter js_field edui-default" name="category" max-length="8">
            <em class="frm_input_append frm_counter" style="display: none;">0/8</em>
        </div>
        <div class="editormd" id="editormd">
            <textarea class="editormd-markdown-textarea" name="editormd-markdown-doc"></textarea>
            <textarea class="editormd-html-textarea" name="editormd-html-code"></textarea>
        </div>
        <!-- <input type="submit" name="submit" value="发布" /> -->
        <div class="button" style="text-align: center">
            <button type="submit" name="submit" class="btn btn-success" style="margin: 0 auto">发布文章</button>
        </div>
    </form>
    <br>
</div>

<script type="text/javascript">
    $(function() {
        editormd("editormd", {
        // var addArticleEditor = editormd("editormd", {
            width  : "90%",
            height : 640,
            syncScrolling: "single",
            path   : "/static/editormd/lib/",
            saveHTMLToTextarea : true
        });

        // addArticleEditor.getMarkdown();       // 获取 Markdown 源码
        // addArticleEditor.getHTML();           // 获取 Textarea 保存的 HTML 源码
        // addArticleEditor.getPreviewedHTML();  // 获取预览窗口里的 HTML，在开启 watch 且没有开启 saveHTMLToTextarea 时使用
        // console.log(addArticleEditor.getHTML());
    });
</script>
{% endblock %}